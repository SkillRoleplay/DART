<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>GRENACHER DART Â· 501</title>
  <meta name="theme-color" content="#0b0f18" />
  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <div class="bg-orbs" aria-hidden="true"></div>

  <header class="topbar">
    <div class="topbar__left">
      <div class="brand">
        <div class="brand__icon" aria-hidden="true">
          <svg viewBox="0 0 64 64" role="img" aria-label="GRENACHER DART Logo">
            <defs>
              <radialGradient id="g1" cx="30%" cy="20%" r="80%">
                <stop offset="0%" stop-color="rgba(125,211,252,0.95)"/>
                <stop offset="55%" stop-color="rgba(167,139,250,0.75)"/>
                <stop offset="100%" stop-color="rgba(251,113,133,0.55)"/>
              </radialGradient>
            </defs>
            <circle cx="32" cy="32" r="22" fill="rgba(0,0,0,0.25)" stroke="rgba(255,255,255,0.18)" stroke-width="2"/>
            <circle cx="32" cy="32" r="15" fill="rgba(255,255,255,0.03)" stroke="rgba(255,255,255,0.14)" stroke-width="2"/>
            <circle cx="32" cy="32" r="7"  fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.10)" stroke-width="2"/>
            <line x1="32" y1="10" x2="32" y2="54" stroke="rgba(255,255,255,0.12)" stroke-width="2"/>
            <line x1="10" y1="32" x2="54" y2="32" stroke="rgba(255,255,255,0.12)" stroke-width="2"/>
            <line x1="17" y1="17" x2="47" y2="47" stroke="rgba(255,255,255,0.10)" stroke-width="2"/>
            <line x1="47" y1="17" x2="17" y2="47" stroke="rgba(255,255,255,0.10)" stroke-width="2"/>
            <path d="M44 18 L54 8 L56 10 L46 20 Z" fill="url(#g1)" stroke="rgba(255,255,255,0.25)" stroke-width="1"/>
            <path d="M36 26 L44 18 L46 20 L38 28 Z" fill="rgba(255,255,255,0.10)"/>
            <circle cx="44" cy="18" r="2.2" fill="rgba(255,255,255,0.35)"/>
          </svg>
        </div>

        <div class="brand__text">
          <div class="brand__title">
            <span class="logo__word">GRENACHER</span>
            <span class="logo__accent">DART</span>
          </div>
          <div class="brand__sub" id="subtitle">â€”</div>
        </div>
      </div>
    </div>

    <div class="topbar__actions">
      <button class="btn btn--ghost" id="btnNewLeg" title="Neue Runde">ğŸ”„ Neue Runde</button>
      <button class="btn btn--ghost" id="btnUndo" title="Undo">â†©ï¸ Undo</button>
      <button class="btn btn--primary" id="btnSettings" title="Einstellungen">âš™ï¸</button>
    </div>
  </header>

  <main class="layout">
    <!-- SCOREBOARD -->
    <section class="panel panel--score">
      <div class="panel__head">
        <div class="pill">ğŸ‘¤ Am Zug: <span id="currentName">â€”</span></div>
        <div class="pill pill--muted">ğŸ¯ Double-Out: <span id="doubleOutLabel">â€”</span></div>
      </div>

      <div class="players" id="players"></div>

      <div class="info">
        <div class="info__title">Kurzregeln âš¡</div>
        <div class="info__text">
          Du gibst 3 Darts einzeln ein: wÃ¤hle <strong>S/D/T</strong>, dann tippe Segment <strong>1â€“20</strong>.
          MISS/OB/BULL sind eigene Buttons. Bust bleibt wie vorher. Double-Out wird automatisch erkannt (BULL 50 zÃ¤hlt).
        </div>
      </div>
    </section>

    <!-- INPUT -->
    <section class="panel panel--input">
      <div class="turn">
        <div class="turn__head">
          <div>
            <div class="turn__title">Aufnahme (3 Darts)</div>
            <div class="turn__sub">Slot antippen â†’ S/D/T wÃ¤hlen â†’ Segment 1â€“20 antippen.</div>
          </div>
          <div class="turn__total">Total: <span id="turnTotal">0</span></div>
        </div>

        <div class="dartSlots" id="dartSlots"></div>

        <div class="segmentRow">
          <div class="segmentBox">
            <div class="segmentBox__label">Aktiv</div>
            <div class="segmentBox__value" id="activeDisplay">Dart 1 Â· S</div>
          </div>

          <div class="multRow" role="group" aria-label="Multiplikator">
            <button class="multBtn" type="button" data-mult="1" id="btnMultS">S</button>
            <button class="multBtn" type="button" data-mult="2" id="btnMultD">D</button>
            <button class="multBtn" type="button" data-mult="3" id="btnMultT">T</button>
          </div>
        </div>

        <div class="turnActions">
          <button class="chip" id="btnMiss" type="button">MISS</button>
          <button class="chip" id="btnOBull" type="button">OB 25</button>
          <button class="chip" id="btnBull" type="button">BULL 50</button>
          <button class="chip chip--warn" id="btnUndoDart" type="button">â†©ï¸ Dart zurÃ¼ck</button>
          <button class="chip chip--warn" id="btnClearTurn" type="button">ğŸ§¹ Aufnahme lÃ¶schen</button>
        </div>
      </div>

      <!-- âœ… Segment-Grid 1â€“20 -->
      <div class="segmentPad" id="segmentPad" aria-label="Segmente 1 bis 20"></div>

      <div class="displayActions">
        <button class="btn btn--primary" id="btnSubmitTurn">âœ… Eintragen</button>
      </div>

      <div class="status" id="status">Bereit âœ…</div>
    </section>
  </main>

  <!-- START / SETUP -->
  <dialog class="dlg" id="dlgStart">
    <form method="dialog" class="dlg__card">
      <div class="dlg__head">
        <div>
          <div class="dlg__title">ğŸš€ Spiel starten</div>
          <div class="dlg__subtitle">WÃ¤hle Spieleranzahl, Namen und Double-Out.</div>
        </div>
        <button class="iconbtn" value="cancel" aria-label="Schliessen">âœ•</button>
      </div>

      <div class="dlg__grid">
        <label class="field">
          <span class="field__label">Spieleranzahl</span>
          <select class="field__control" id="startPlayers">
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4" selected>4</option>
          </select>
        </label>

        <label class="switch">
          <span class="switch__text">ğŸ¯ Double-Out</span>
          <input type="checkbox" id="startDoubleOut" checked />
          <span class="switch__ui" aria-hidden="true"></span>
        </label>

        <label class="field"><span class="field__label">Spieler 1</span><input class="field__control" id="startP1" type="text" placeholder="Spieler 1" /></label>
        <label class="field"><span class="field__label">Spieler 2</span><input class="field__control" id="startP2" type="text" placeholder="Spieler 2" /></label>
        <label class="field"><span class="field__label">Spieler 3</span><input class="field__control" id="startP3" type="text" placeholder="Spieler 3" /></label>
        <label class="field"><span class="field__label">Spieler 4</span><input class="field__control" id="startP4" type="text" placeholder="Spieler 4" /></label>
      </div>

      <div class="dlg__actions dlg__actions--end">
        <button class="btn btn--primary" type="button" id="btnStartGame">ğŸ¯ Start</button>
      </div>
    </form>
  </dialog>

  <!-- SETTINGS -->
  <dialog class="dlg" id="dlgSettings">
    <form method="dialog" class="dlg__card">
      <div class="dlg__head">
        <div class="dlg__title">âš™ï¸ Einstellungen</div>
        <button class="iconbtn" value="cancel" aria-label="Schliessen">âœ•</button>
      </div>

      <div class="dlg__grid">
        <label class="field">
          <span class="field__label">Spieleranzahl</span>
          <select class="field__control" id="selPlayers">
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4" selected>4</option>
          </select>
        </label>

        <label class="switch">
          <span class="switch__text">ğŸ¯ Double-Out</span>
          <input type="checkbox" id="chkDoubleOut" />
          <span class="switch__ui" aria-hidden="true"></span>
        </label>

        <label class="field"><span class="field__label">Spieler 1</span><input class="field__control" id="p1" type="text" /></label>
        <label class="field"><span class="field__label">Spieler 2</span><input class="field__control" id="p2" type="text" /></label>
        <label class="field"><span class="field__label">Spieler 3</span><input class="field__control" id="p3" type="text" /></label>
        <label class="field"><span class="field__label">Spieler 4</span><input class="field__control" id="p4" type="text" /></label>
      </div>

      <div class="dlg__actions">
        <button class="btn btn--danger" type="button" id="btnResetMatch">ğŸ§¨ Match reset</button>
        <button class="btn btn--ghost" value="cancel">Schliessen</button>
        <button class="btn btn--primary" type="button" id="btnApplySettings">âœ… Anwenden</button>
      </div>
    </form>
  </dialog>

  <script src="./app.js" defer></script>
</body>
</html>